(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{iKd5:function(e,n,t){"use strict";t.r(n),t.d(n,"_frontmatter",(function(){return a})),t.d(n,"default",(function(){return p}));var i=t("vxd2"),r=t("+ZQ4"),o=(t("tbR7"),t("8ZXK")),s=t("ZUrL"),a=(t("GP0y"),{}),l=function(e){return function(n){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),Object(o.b)("div",n)}},c=l("PageDescription"),b=l("InlineNotification"),m={_frontmatter:a},d=s.a;function p(e){var n=e.components,t=Object(r.a)(e,["components"]);return Object(o.b)(d,Object(i.a)({},m,t,{components:n,mdxType:"MDXLayout"}),Object(o.b)(c,{mdxType:"PageDescription"},Object(o.b)("p",null,"In diesem Abschnitt verwenden Sie das Model Management System (MMS) von IEAM, um einen bereitgestellten Edge-Service (neu) zu konfigurieren.")),Object(o.b)("h2",null,"Using the Hello MMS Example Edge Service with Deployment Pattern"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"Registrieren Sie Ihren Edge Device um das Pattern “hello-mms” zu verwenden:")),Object(o.b)("pre",null,Object(o.b)("code",Object(i.a)({parentName:"pre"},{}),"export SERVICE_NAME=ibm.hello-mms\nhzn register -p IBM/pattern-$SERVICE_NAME-$(hzn architecture) -s $SERVICE_NAME --serviceorg IBM\n")),Object(o.b)("ol",{start:2},Object(o.b)("li",{parentName:"ol"},"Nachdem der Dienst gestartet ist, lassen Sie sich sie die Docker Container anzeigen:")),Object(o.b)("pre",null,Object(o.b)("code",Object(i.a)({parentName:"pre"},{}),"sudo docker ps\n")),Object(o.b)("ol",{start:3},Object(o.b)("li",{parentName:"ol"},Object(o.b)("strong",{parentName:"li"},"Öffnen Sie ein weiteres Terminal")," und beobachten Sie die Ausgabe des hello-mms-Dienstes mit dem Flag “follow”. Dieser Beispieldienst prüft wiederholt,ob eine aktualisierte Konfigurationsdatei (config.json) vorhanden ist, die einen Parameter enthält, zu dem er “hallo” sagen soll. Die anfängliche Konfigurationsdatei ist in das Docker-Image integriert. Aktualisierte Config-Dateien können per MMS kommen. Anfänglich sollten Sie die Nachricht wie folgt sehen: ",Object(o.b)("strong",{parentName:"li"},"says: Hello from the dockerfile!"),".")),Object(o.b)("pre",null,Object(o.b)("code",Object(i.a)({parentName:"pre"},{}),"export SERVICE_NAME=ibm.hello-mms\nhzn service log -f $SERVICE_NAME\n")),Object(o.b)("ol",{start:4},Object(o.b)("li",{parentName:"ol"},"Während Sie sich den Output im anderen Terminal anzeigen lassen, holen Sie sich die Beispieldateien, die zum Erstellen und Veröffentlichen einer neuen Konfigurationsdatei in MMS benötigt werden:")),Object(o.b)("pre",null,Object(o.b)("code",Object(i.a)({parentName:"pre"},{}),"wget -q --show-progress https://github.com/open-horizon/examples/raw/master/edge/services/helloMMS/object.json\nwget -q --show-progress https://github.com/open-horizon/examples/raw/master/edge/services/helloMMS/config.json\n")),Object(o.b)("ol",{start:5},Object(o.b)("li",{parentName:"ol"},"Ändern Sie die config.json und veröffentlichen Sie sie (zusammen mit object.json) als neues mms-Objekt:")),Object(o.b)("pre",null,Object(o.b)("code",Object(i.a)({parentName:"pre"},{}),'jq \'.HW_WHO = "from the MMS"\' config.json > config.tmp && mv config.tmp config.json\nexport HZN_DEVICE_ID="${HZN_EXCHANGE_NODE_AUTH%%:*}"   # this env var is referenced in object.json\nhzn mms object publish -m object.json -f config.json\n')),Object(o.b)("ol",{start:6},Object(o.b)("li",{parentName:"ol"},"Zeigen Sie das veröffentlichte mms-Objekt an:")),Object(o.b)("pre",null,Object(o.b)("code",Object(i.a)({parentName:"pre"},{}),"hzn mms object list -t $HZN_DEVICE_ID.hello-mms -i config.json -d\n")),Object(o.b)("p",null,"Sobald der Objektstatus auf geliefert wechselt, sehen Sie, wie sich die Ausgabe des hello-mms-Dienstes (im anderen Terminal) von ",Object(o.b)("strong",{parentName:"p"},"<","your-node-id",">"," says: Hello from the dockerfile! to ","<","your-node-id",">"," says: Hello from the MMS!")),Object(o.b)("ol",{start:7},Object(o.b)("li",{parentName:"ol"},"Löschen Sie das veröffentlichte mms-Objekt:")),Object(o.b)("pre",null,Object(o.b)("code",Object(i.a)({parentName:"pre"},{}),"hzn mms object delete -t $HZN_DEVICE_ID.hello-mms --id config.json\n")),Object(o.b)(b,{kind:"info",mdxType:"InlineNotification"},Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Hinweis:")," in der Dienstausgabe im anderen Terminal. Dies führt dazu, dass der Dienst auf die ursprüngliche Konfigurationsdatei und damit auf die ursprüngliche “hello”-Meldung zurückgreift.")),Object(o.b)("ol",{start:8},Object(o.b)("li",{parentName:"ol"},"Heben Sie die Registrierung Ihres Edge Device auf (dadurch wird auch der hello-mms-Dienst gestoppt):")),Object(o.b)("pre",null,Object(o.b)("code",Object(i.a)({parentName:"pre"},{}),"hzn unregister -f\n")))}p.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-edge-lab-mms-deutsch-mdx-9a1404e5eef28da6a418.js.map