(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"013z":function(e,t,a){"use strict";var n=a("q1tI"),o=a.n(n),c=a("NmYn"),r=a.n(c),i=a("Wbzz"),s=a("Xrax"),l=a("k4MR"),b=a("TSYQ"),d=a.n(b),p=a("QH2O"),u=a.n(p),m=a("qKvR"),g=function(e){var t,a=e.title,n=e.theme,o=e.tabs,c=void 0===o?[]:o;return Object(m.b)("div",{className:d()(u.a.pageHeader,(t={},t[u.a.withTabs]=c.length,t[u.a.darkMode]="dark"===n,t))},Object(m.b)("div",{className:"bx--grid"},Object(m.b)("div",{className:"bx--row"},Object(m.b)("div",{className:"bx--col-lg-12"},Object(m.b)("h1",{id:"page-title",className:u.a.text},a)))))},A=a("BAC9"),O=function(e){var t=e.relativePagePath,a=e.repository,n=Object(i.useStaticQuery)("1364590287").site.siteMetadata.repository,o=a||n,c=o.baseUrl,r=o.subDirectory,s=c+"/edit/"+o.branch+r+"/src/pages"+t;return c?Object(m.b)("div",{className:"bx--row "+A.row},Object(m.b)("div",{className:"bx--col"},Object(m.b)("a",{className:A.link,href:s},"Edit this page on GitHub"))):null},x=a("FCXl"),I=a("dI71"),h=a("I8xM"),_=function(e){function t(){return e.apply(this,arguments)||this}return Object(I.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.title,a=e.tabs,n=e.slug,o=n.split("/").filter(Boolean).slice(-1)[0],c=a.map((function(e){var t,a=r()(e,{lower:!0,strict:!0}),c=a===o,s=new RegExp(o+"/?(#.*)?$"),l=n.replace(s,a);return Object(m.b)("li",{key:e,className:d()((t={},t[h.selectedItem]=c,t),h.listItem)},Object(m.b)(i.Link,{className:h.link,to:""+l},e))}));return Object(m.b)("div",{className:h.tabsContainer},Object(m.b)("div",{className:"bx--grid"},Object(m.b)("div",{className:"bx--row"},Object(m.b)("div",{className:"bx--col-lg-12 bx--col-no-gutter"},Object(m.b)("nav",{"aria-label":t},Object(m.b)("ul",{className:h.list},c))))))},t}(o.a.Component),E=a("MjG9"),j=a("CzIb");t.a=function(e){var t=e.pageContext,a=e.children,n=e.location,o=e.Title,c=t.frontmatter,b=void 0===c?{}:c,d=t.relativePagePath,p=t.titleType,u=b.tabs,A=b.title,I=b.theme,h=b.description,N=b.keywords,T=Object(j.a)().interiorTheme,M=Object(i.useStaticQuery)("2456312558").site.pathPrefix,f=M?n.pathname.replace(M,""):n.pathname,k=u?f.split("/").filter(Boolean).slice(-1)[0]||r()(u[0],{lower:!0}):"",R=I||T;return Object(m.b)(l.a,{tabs:u,homepage:!1,theme:R,pageTitle:A,pageDescription:h,pageKeywords:N,titleType:p},Object(m.b)(g,{title:o?Object(m.b)(o,null):A,label:"label",tabs:u,theme:R}),u&&Object(m.b)(_,{title:A,slug:f,tabs:u,currentTab:k}),Object(m.b)(E.a,{padded:!0},a,Object(m.b)(O,{relativePagePath:d})),Object(m.b)(x.a,{pageContext:t,location:n,slug:f,tabs:u,currentTab:k}),Object(m.b)(s.a,null))}},"3qDg":function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return i})),a.d(t,"default",(function(){return g}));var n=a("wx14"),o=a("zLVn"),c=(a("q1tI"),a("7ljp")),r=a("013z"),i=(a("qKvR"),{}),s=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),Object(c.b)("div",t)}},l=s("PageDescription"),b=s("InlineNotification"),d=s("Accordion"),p=s("AccordionItem"),u={_frontmatter:i},m=r.a;function g(e){var t=e.components,a=Object(o.a)(e,["components"]);return Object(c.b)(m,Object(n.a)({},u,a,{components:t,mdxType:"MDXLayout"}),Object(c.b)(l,{mdxType:"PageDescription"},Object(c.b)("p",null,"In this section you find instruction for setting up the lab.")),Object(c.b)("h2",null,"Agent Installation and Registration"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"export CLUSTER_URL=https://$(oc get cm management-ingress-ibmcloud-cluster-info -o jsonpath='{.data.cluster_ca_domain}')\nexport ADMIN_USER=$(oc -n ibm-common-services get secret platform-auth-idp-credentials -o jsonpath='{.data.admin_username}' | base64 --decode)\nexport ADMIN_PWD=$(oc -n ibm-common-services get secret platform-auth-idp-credentials -o jsonpath='{.data.admin_password}' | base64 --decode)\ncloudctl login -a $CLUSTER_URL -u $ADMIN_USER -p ADMIN_PWD --skip-ssl-validation -n ibm-edge\n\nexport ROOT_PASS=$(oc get secret $CUSTOM_RESOURCE-auth -o jsonpath='{.data.exchange-root-pass}' | base64 --decode | grep '.*')\nexport CUSTOM_RESOURCE=$(oc get eamhub | grep -c -v NAME)\nexport EDGE_AGBOT_ID=$(oc get cm $CUSTOM_RESOURCE-config -o jsonpath=\"{.data.agbot_id}\" | grep '.*')\nexport CA_DOMAIN=$(oc get cm management-ingress-ibmcloud-cluster-info -o jsonpath='{.data.cluster_ca_domain}'\nexport HZN_EXCHANGE_URL=https://$CA_DOMAIN/edge-exchange/v1\nexport HZN_EXCHANGE_USER_AUTH=\"root/root:$ROOT_PASS\"\nexport CLUSTER_CA_CERT=$(oc get secret management-ingress-ibmcloud-cluster-ca-cert -o jsonpath=\"{.data['ca\\.crt']}\" | base64 --decode | grep '.*')\necho \"$CLUSTER_CA_CERT\" > /tmp/ieam_cluster_ca.crt\nexport HZN_MGMT_HUB_CERT_PATH=/tmp/ieam_cluster_ca.crt\nexport NEW_ORG_ID=thinkedge\ncloudctl iam roles\ncloudctl iam groups\ncloudctl iam teams\ncloudctl iam accounts\nexport IAM_ACCOUNT_NAME='mycluster Account'\nIAM_ACCOUNT_ID=$(cloudctl iam account \"$IAM_ACCOUNT_NAME\" | grep -E '^ID' | awk '{print $2}')\n# export IAM_TEAM_ID=$(cloudctl iam teams -s | grep -m 1 \"$IAM_ACCOUNT_NAME\" | awk '{print $1}')\nexport IAM_TEAM_ID=edgeadmins\nexport IAM_RESOURCE_ID=$(cloudctl iam resources | grep ':n/ibm-edge:')\ncloudctl iam resource-add $IAM_TEAM_ID -r $IAM_RESOURCE_ID\nhzn exchange user create -o $NEW_ORG_ID -A markus \"\" \"markus@does.not.exist\"\nhzn exchange user setadmin 'markus' 'true' -o $NEW_ORG_ID\n")),Object(c.b)(b,{kind:"info",mdxType:"InlineNotification"},Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Note:")," These steps above are not all required.")),Object(c.b)("h2",null,"Create an API-key for each user"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),'IAM_USER=<iam-user>\ncloudctl login -a <cluster-url> -u $IAM_USER -p <iam-user-password> -c $IAM_ACCOUNT_ID --skip-ssl-validation\ncloudctl iam api-key-create "${IAM_USER}-api-key" -d "API key for $IAM_USER"\n# IAM_USER_API_KEY=$(cloudctl iam api-key-create "${IAM_USER}-api-key" -d "API key for $IAM_USER" | grep -E \'^API Key\' | awk \'{print $3}\')\n')),Object(c.b)("h2",null,"Verify API-key"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"IAM_USER_API_KEY=<IAM API key you just created>\n\nexport HZN_ORG_ID=<organization-id>\nexport HZN_EXCHANGE_USER_AUTH=iamapikey:$IAM_USER_API_KEY\nhzn exchange user list\n")),Object(c.b)("p",null,"To check ",Object(c.b)("a",Object(n.a)({parentName:"p"},{href:"/think-labs/edge-lab/requirements"}),"Requirements")),Object(c.b)("p",null,"The IBM Edge Application Manager should not list any or your device as shown below\n",Object(c.b)("span",Object(n.a)({parentName:"p"},{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}}),"\n      ",Object(c.b)("span",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"78.81944444444444%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB80lEQVQ4y61Ty4oTQRTtD/Q7JpIwA05+w41uhAE34kcoKLhRRBQRYRYKrhLNJOlHvR/dXcd7y+4x0cRsLDh9T92cOvfe6nQxm01xeXkP8/k8YzabYTKZnMAZJme/cZdyF+fnmE6nKFZNwrL0+FEqfN9KrCqNm9qi0i1KHVGZFrXpsFUBpYoZRGF7gNI5Vg7YGNqHhGK9bbApG9RCYVM12NYCZS0zrxqVOeeY34K0tdAZjdRwVsM7DWsUirJiQwGhLIQQ0FrBaE28IYGGUhJKSuJmD4bgrIEkw0/fNN59Mfi60CiMsbDWwnuPtm0RIyMOPP7CLh8QQkTfRaybgIsnEXfuRzx85tnQZEPubkQI4S8DLtB13V4h1vV9DyMrXD16ANmUKDSNx4YsPAY+zIUlje6cuzUei3gfsFgsycehkErRPSkgJXRUzdKBRLwnMOcOGILM6rqmy3dZ54YratmQOuXF+0INgsQi6oTB5p6iZSFx7lCzOXHes8YPOsu8jbkoX0HBj9zR0Eka4p/8FNJQuODH/1p55NGQKxwCL56CX9wp3V6HY3KXp9Tn+P7DR7x+83Yvd0h/0HA39n1CGz28XCHqNdrgc+6Q9qQhfzH8jS7XAk9fCTx+IbC4UQjO4PiZf4w8bi39c15eA88/A8qPvx8f+Scswb051uS3tQAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(c.b)("img",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"IEAM-nonode",title:"IEAM-nonode",src:"/think-labs/static/413181e39116caf3ec4348d8ba222709/3cbba/IEAM-nonode.png",srcSet:["/think-labs/static/413181e39116caf3ec4348d8ba222709/7fc1e/IEAM-nonode.png 288w","/think-labs/static/413181e39116caf3ec4348d8ba222709/a5df1/IEAM-nonode.png 576w","/think-labs/static/413181e39116caf3ec4348d8ba222709/3cbba/IEAM-nonode.png 1152w","/think-labs/static/413181e39116caf3ec4348d8ba222709/0b124/IEAM-nonode.png 1728w","/think-labs/static/413181e39116caf3ec4348d8ba222709/f5b13/IEAM-nonode.png 2228w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    ")),Object(c.b)(d,{mdxType:"Accordion"},Object(c.b)(p,{title:"output",mdxType:"AccordionItem"},Object(c.b)("p",null,"Some text"))))}g.isMDXComponent=!0},BAC9:function(e,t,a){e.exports={bxTextTruncateEnd:"EditLink-module--bx--text-truncate--end--2pqje",bxTextTruncateFront:"EditLink-module--bx--text-truncate--front--3_lIE",link:"EditLink-module--link--1qzW3",row:"EditLink-module--row--1B9Gk"}},I8xM:function(e,t,a){e.exports={bxTextTruncateEnd:"PageTabs-module--bx--text-truncate--end--267NA",bxTextTruncateFront:"PageTabs-module--bx--text-truncate--front--3xEQF",tabsContainer:"PageTabs-module--tabs-container--8N4k0",list:"PageTabs-module--list--3eFQc",listItem:"PageTabs-module--list-item--nUmtD",link:"PageTabs-module--link--1mDJ1",selectedItem:"PageTabs-module--selected-item--YPVr3"}},QH2O:function(e,t,a){e.exports={bxTextTruncateEnd:"PageHeader-module--bx--text-truncate--end--mZWeX",bxTextTruncateFront:"PageHeader-module--bx--text-truncate--front--3zvrI",pageHeader:"PageHeader-module--page-header--3hIan",darkMode:"PageHeader-module--dark-mode--hBrwL",withTabs:"PageHeader-module--with-tabs--3nKxA",text:"PageHeader-module--text--o9LFq"}}}]);
//# sourceMappingURL=component---src-pages-edge-lab-config-mdx-a643b0a09e3cd9dc0d6f.js.map