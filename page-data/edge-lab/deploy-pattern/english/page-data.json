{"componentChunkName":"component---src-pages-edge-lab-deploy-pattern-english-mdx","path":"/edge-lab/deploy-pattern/english/","result":{"pageContext":{"frontmatter":{"title":"Deploy an Edge Service","description":"None","tabs":["English","Deutsch","Espanol"]},"relativePagePath":"/edge-lab/deploy-pattern/english.mdx","titleType":"append","MdxNode":{"id":"c769c854-d5b5-50d6-a680-957796ed899f","children":[],"parent":"efd495f9-7e92-5e4d-b84e-a7257d2626d9","internal":{"content":"---\ntitle: Deploy an Edge Service\ndescription: None\ntabs: ['English', 'Deutsch', 'Espanol']\n---\n\n<PageDescription>\n\nIn this section you will deploy the edge service that you created in a previous step to your edge environment.\n\n</PageDescription>\n\n## Deploying an edge service using a deployment pattern\n\n### Preconditions for deploying your own service\n\n  If you have not already done do, complete the section [Create an Edge Service](../service/english)\n\n  Also set your USER_ID again if you opened a new shell.\n  ```\n  export USER_ID=$DOCKER_HUB_ID\n  ```\n\n## Defining a deployment pattern\n\nDuring the creation of the edge service a pattern template has been created for you in the horizon directory \n\nExamine the **horizon/pattern.json** file and take notice of the structure/options.\n\n<InlineNotification kind=\"info\">\n\n**Note:** Some variables in the pattern are defined in other files. You can replace them with the real values if you like.\n\n</InlineNotification>\n\n## Publishing a pattern for the edge service\n\n1. Publish and view your edge node deployment pattern in the Horizon Exchange:\n```\nhzn exchange pattern publish -f horizon/pattern.json\nhzn exchange pattern list\n```\n\nThe pattern is now also visible on the **Patterns** tab in IBM Edge Application Manager UI\n![IEAM-pattern](../images/IEAM-pattern.png)\n\nClick on your pattern to see the details\n![IEAM-pattern-details](../images/IEAM-pattern-details.png)\n\n2. Register your edge node with Horizon to use your deployment pattern:\n```\nhzn register -p pattern-hello-$USER_ID-$(hzn architecture)\n```\n\n3. The edge device will make an agreement with one of the Horizon agreement bots (this typically takes about 15 seconds). Repeatedly query the agreements of this device until the agreement_finalized_time and agreement_execution_start_time fields are filled in:\n```\nwatch hzn agreement list\n# Press Ctrl-c to stop the output display\n```\n\n4. After the agreement is made, list the docker container edge service that has been started as a result:\n```\nsudo docker ps\n```\n\nYou will also see the pattern deployment in the IBM Edge Application Manager UI\n![IEAM-mypattern](../images/IEAM-mypattern.png)\n\n5. See the helloworld service output:\n```\nsudo hzn service log -f hello-$USER_ID\n```\n\n<InlineNotification kind=\"info\">\n\n**Note:** Press Ctrl C to stop the command output.\n\n</InlineNotification>\n\n6. Unregister your edge node (which will also stop the *hello-&lt;your-name&gt;* service):\n```\nhzn unregister -f\n```\n","type":"Mdx","contentDigest":"7fb65826daf880a42d7d62525b386c8c","owner":"gatsby-plugin-mdx","counter":439},"frontmatter":{"title":"Deploy an Edge Service","description":"None","tabs":["English","Deutsch","Espanol"]},"exports":{},"rawBody":"---\ntitle: Deploy an Edge Service\ndescription: None\ntabs: ['English', 'Deutsch', 'Espanol']\n---\n\n<PageDescription>\n\nIn this section you will deploy the edge service that you created in a previous step to your edge environment.\n\n</PageDescription>\n\n## Deploying an edge service using a deployment pattern\n\n### Preconditions for deploying your own service\n\n  If you have not already done do, complete the section [Create an Edge Service](../service/english)\n\n  Also set your USER_ID again if you opened a new shell.\n  ```\n  export USER_ID=$DOCKER_HUB_ID\n  ```\n\n## Defining a deployment pattern\n\nDuring the creation of the edge service a pattern template has been created for you in the horizon directory \n\nExamine the **horizon/pattern.json** file and take notice of the structure/options.\n\n<InlineNotification kind=\"info\">\n\n**Note:** Some variables in the pattern are defined in other files. You can replace them with the real values if you like.\n\n</InlineNotification>\n\n## Publishing a pattern for the edge service\n\n1. Publish and view your edge node deployment pattern in the Horizon Exchange:\n```\nhzn exchange pattern publish -f horizon/pattern.json\nhzn exchange pattern list\n```\n\nThe pattern is now also visible on the **Patterns** tab in IBM Edge Application Manager UI\n![IEAM-pattern](../images/IEAM-pattern.png)\n\nClick on your pattern to see the details\n![IEAM-pattern-details](../images/IEAM-pattern-details.png)\n\n2. Register your edge node with Horizon to use your deployment pattern:\n```\nhzn register -p pattern-hello-$USER_ID-$(hzn architecture)\n```\n\n3. The edge device will make an agreement with one of the Horizon agreement bots (this typically takes about 15 seconds). Repeatedly query the agreements of this device until the agreement_finalized_time and agreement_execution_start_time fields are filled in:\n```\nwatch hzn agreement list\n# Press Ctrl-c to stop the output display\n```\n\n4. After the agreement is made, list the docker container edge service that has been started as a result:\n```\nsudo docker ps\n```\n\nYou will also see the pattern deployment in the IBM Edge Application Manager UI\n![IEAM-mypattern](../images/IEAM-mypattern.png)\n\n5. See the helloworld service output:\n```\nsudo hzn service log -f hello-$USER_ID\n```\n\n<InlineNotification kind=\"info\">\n\n**Note:** Press Ctrl C to stop the command output.\n\n</InlineNotification>\n\n6. Unregister your edge node (which will also stop the *hello-&lt;your-name&gt;* service):\n```\nhzn unregister -f\n```\n","fileAbsolutePath":"/Users/mkeppel/Documents/GitHub/think-labs/src/pages/edge-lab/deploy-pattern/english.mdx"}}},"staticQueryHashes":["1054721580","1054721580","1364590287","2102389209","2102389209","2456312558","2746626797","2746626797","3018647132","3018647132","3037994772","3037994772","768070550"]}