{"componentChunkName":"component---src-pages-edge-lab-edge-lab-connect-deutsch-mdx","path":"/edge-lab/edge-lab/connect/deutsch/","result":{"pageContext":{"frontmatter":{"title":"Gerät Verbinden","tabs":["English","Deutsch","Espanol"],"description":"None"},"relativePagePath":"/edge-lab/edge-lab/connect/deutsch.mdx","titleType":"append","MdxNode":{"id":"a0af24ae-7ca7-5ae5-bd62-26d9f215852e","children":[],"parent":"4c10c452-d849-5878-b4f9-724d478773d6","internal":{"content":"---\ntitle: Gerät Verbinden\ntabs: ['English', 'Deutsch', 'Espanol']\ndescription: None\n---\n\n<PageDescription>\n\nIn diesem Abschnitt richten Sie Ihre Zielumgebung ein, in der Sie die Beispielanwendung und den Edge-Agenten bereitstellen. Wenn Sie Ihre eigene Umgebung mitbringen möchten, können Sie dies gerne tun.\n\n</PageDescription>\n\n## Installation und Registrierung des Agenten\n\nIn dieser Übung verwenden Sie die automatisierte Installations- und Registrierungsmethode für Agenten. Andere Optionen sind\n\n* Erweiterte manuelle Installation und Registrierung des Agenten\n* Installation und Registrierung von Massenagenten\n* Installation und Registrierung des SDO-Agenten (Secure Device Onboarding)\n\n<InlineNotification kind=\"info\">\n**Hinweis:** Diese Schritte sind für alle Edge-Gerätetypen (Architekturen) gleich.\n</InlineNotification>\n\nWenn Sie Ihr Gerät noch nicht mit den Schritten im Abschnitt [Anforderungen](/edge-lab/requirements/deutsch) vorbereitet haben, tun Sie dies jetzt.\n\nDer IBM Edge Application Manager sollte kein oder Ihr Gerät auflisten, wie unten gezeigt\n![IEAM-nonode](../images/IEAM-nonode.png)\n\n1) Setzen Sie die folgenden Umgebungsvariablen auf Ihrem Gerät.\n```bash\nexport HZN_DEVICE_ID=<yourname>\nexport HZN_EXCHANGE_USER_AUTH=iamapikey:<api-key>\nexport HZN_ORG_ID=<your-exchange-organization>\nexport HZN_FSS_CSSURL=https://<ieam-management-hub-ingress>/edge-css/\nexport HZN_EXCHANGE_URL=https://<ieam-management-hub-ingress>/edge-exchange/v1\n```\n\n<InlineNotification kind=\"info\">\n\n**Hinweis:** Wir haben bereits die Umgebung für die Einrichtung von Edge-Knoten vorbereitet, in der wir den Apikey und die Organisation für Sie erstellt haben.\n\n</InlineNotification>\n\n2) Für die automatische Installation laden Sie das Skript agent-install.sh vom Cloud Sync Service (CSS) auf Ihr Gerät herunter und machen es ausführbar:\n```bash\ncurl -u \"$HZN_ORG_ID/$HZN_EXCHANGE_USER_AUTH\" -k -o agent-install.sh $HZN_FSS_CSSURL/api/v1/objects/IBM/agent_files/agent-install.sh/data\nchmod +x agent-install.sh\n```\n\n3) Führen Sie agent-install.sh aus, um die erforderlichen Dateien von CSS abzurufen, den Horizon-Agent zu installieren und zu konfigurieren und Ihr Edge-Gerät für die Ausführung des helloworld-Beispiel-Edge-Dienstes zu registrieren:\n```bash\nsudo -s -E ./agent-install.sh -i 'css:' -p IBM/pattern-ibm.helloworld -w '*' -T 120\n```\n\n<InlineNotification kind=\"info\">\n\n**Hinweis:** Um alle verfügbaren agent-install.sh-Flag-Beschreibungen zu sehen, führen Sie aus: `./agent-install.sh -h`\n\n</InlineNotification>\n\n<Accordion>\n  <AccordionItem title=\"agent-install output\">\n\nBei einer erfolgreichen Installation sollten Sie die folgende Cli-Ausgabe sehen. Abhängig von Ihrem Gerät und Ihrer Verbindung kann dies einige Zeit dauern.\n\n```bash\n$ curl -u \"$HZN_ORG_ID/$HZN_EXCHANGE_USER_AUTH\" -k -o agent-install.sh $HZN_FSS_CSSURL/api/v1/objects/IBM/agent_files/agent-install.sh/data\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100  113k    0  113k    0     0  76924      0 --:--:--  0:00:01 --:--:-- 76924\n$ chmod +x agent-install.sh\n$ sudo -s -E ./agent-install.sh -i 'css:' -p IBM/pattern-ibm.helloworld -w '*' -T 120\n2021-04-27 12:12:57 AGENT_INSTALL_ZIP:  (from default value)\n2021-04-27 12:12:58 INPUT_FILE_PATH: css: (from command line flag)\n2021-04-27 12:12:58 INPUT_FILE_PATH adjusted to: css:/api/v1/objects/IBM/agent_files\n2021-04-27 12:12:58 AGENT_CFG_FILE:  (from default value)\n2021-04-27 12:12:58 AGENT_VERBOSITY: 3 (from environment variable)\n2021-04-27 12:12:58 HZN_ORG_ID: thinkedge (from environment variable)\n2021-04-27 12:12:58 HZN_MGMT_HUB_CERT_PATH:  (from default value)\n2021-04-27 12:12:58 AGENT_CERT_FILE: agent-install.crt (from default value)\n2021-04-27 12:12:58 HZN_FSS_CSSURL: https://cp-console.edge-lab-2172-think21-6a6ac8c3d7a0ea50590dce8fa3fd273c-0000.us-south.containers.appdomain.cloud/edge-css (from environment variable)\n2021-04-27 12:12:58 HZN_EXCHANGE_USER_AUTH: ****** (from environment variable)\n2021-04-27 12:12:58 HZN_EXCHANGE_NODE_AUTH:  (from default value)\n2021-04-27 12:12:58 Downloading file https://cp-console.edge-lab-2172-think21-6a6ac8c3d7a0ea50590dce8fa3fd273c-0000.us-south.containers.appdomain.cloud/edge-css/api/v1/objects/IBM/agent_files/agent-install.crt/data using --insecure ...\n2021-04-27 12:12:59 Downloading file https://cp-console.edge-lab-2172-think21-6a6ac8c3d7a0ea50590dce8fa3fd273c-0000.us-south.containers.appdomain.cloud/edge-css/api/v1/objects/IBM/agent_files/agent-install.cfg/data ...\n2021-04-27 12:13:00 AGENT_SKIP_REGISTRATION: false (from default value)\n2021-04-27 12:13:00 HZN_EXCHANGE_URL: https://cp-console.edge-lab-2172-think21-6a6ac8c3d7a0ea50590dce8fa3fd273c-0000.us-south.containers.appdomain.cloud/edge-exchange/v1 (from configuration file)\n2021-04-27 12:13:00 NODE_ID:  (from default value)\n2021-04-27 12:13:00 HZN_DEVICE_ID: my-pi (from environment variable)\n2021-04-27 12:13:00 HZN_NODE_ID:  (from default value)\n2021-04-27 12:13:00 HZN_EXCHANGE_PATTERN: IBM/pattern-ibm.helloworld (from command line flag)\n2021-04-27 12:13:00 HZN_NODE_POLICY:  (from default value)\n2021-04-27 12:13:00 AGENT_WAIT_FOR_SERVICE: * (from command line flag)\n2021-04-27 12:13:00 AGENT_WAIT_FOR_SERVICE_ORG:  (from default value)\n2021-04-27 12:13:00 AGENT_REGISTRATION_TIMEOUT: 120 (from command line flag)\n2021-04-27 12:13:00 AGENT_OVERWRITE: false (from default value)\n2021-04-27 12:13:00 AGENT_SKIP_PROMPT: false (from default value)\n2021-04-27 12:13:00 AGENT_INSTALL_ZIP: agent-install-files.tar.gz (from default value)\n2021-04-27 12:13:00 AGENT_DEPLOY_TYPE: device (from default value)\n2021-04-27 12:13:00 AGENT_WAIT_MAX_SECONDS: 30 (from default value)\n2021-04-27 12:13:01 NODE_ID_MAPPING_FILE: node-id-mapping.csv (from default value)\n2021-04-27 12:13:01 PKG_APT_KEY:  (from default value)\n2021-04-27 12:13:01 APT_REPO_BRANCH: updates (from default value)\n2021-04-27 12:13:01 AGENT_IMAGE_TAR_FILE: amd64_anax.tar.gz (from default value)\n2021-04-27 12:13:05 OS: linux, Distro: raspbian, Distro Release: 10, Distro Code Name: buster, Architecture: armhf\n2021-04-27 12:13:05 WARNING: Using node id from HZN_DEVICE_ID\n2021-04-27 12:13:05 Node type: device\n2021-04-27 12:13:05 Updating apt package index...\n2021-04-27 12:14:15 Installing prerequisites, this could take a minute...\n2021-04-27 12:16:17 Verifying that node my-pi in the exchange is type device (if it exists)...\n2021-04-27 12:16:18 Creating /etc/default/horizon ...\n2021-04-27 12:16:19 Downloading file https://cp-console.edge-lab-2172-think21-6a6ac8c3d7a0ea50590dce8fa3fd273c-0000.us-south.containers.appdomain.cloud/edge-css/api/v1/objects/IBM/agent_files/horizon-agent-linux-deb-armhf.tar.gz/data ...\n2021-04-27 12:16:42 Installing the horizon packages in /root/. ...\n2021-04-27 12:18:22 Waiting for state: Horizon agent ready \n2021-04-27 12:18:24 Done: Horizon agent ready\n2021-04-27 12:18:25 Registering the edge node...\nhzn register -m 'make-pi' -o 'thinkedge' -u 'iamapikey:I1qBL7mXekVo-jxJf_3M3th6xEWaPuuYvegbxBZthSoL' -n 'my-pi:' -s '*'  -t '120' -p 'IBM/pattern-ibm.helloworld'\nHorizon Exchange base URL: https://cp-console.edge-lab-2172-think21-6a6ac8c3d7a0ea50590dce8fa3fd273c-0000.us-south.containers.appdomain.cloud/edge-exchange/v1\nGenerated random node token\nNode thinkedge/my-pi does not exist in the Exchange with the specified token, creating/updating it...\nnode added or updated\nNode my-pi created.\nWill proceeed with the given pattern IBM/pattern-ibm.helloworld.\nInitializing the Horizon node with node type 'device'...\nNote: no input file was specified. This is only valid if none of the services need variables set.\nHowever, if there is 'userInput' specified in the node already in the Exchange, the userInput will be used.\nChanging Horizon state to configured to register this node with Horizon...\nHorizon node is registered. Workload services should begin executing shortly.\nWaiting for up to 120 seconds for following services to start:\n\tIBM/ibm.helloworld\nStatus of the services you are watching:\n\tIBM/ibm.helloworld \tWaiting: no agreements formed yet\nStatus of the services you are watching:\n\tIBM/ibm.helloworld \tWaiting: agreement is formed\nStatus of the services you are watching:\n\tIBM/ibm.helloworld \tWaiting: agreement is accepted\nStatus of the services you are watching:\n\tIBM/ibm.helloworld \tWaiting: service is created\nStatus of the services you are watching:\n\tIBM/ibm.helloworld \tWaiting: service is created\nStatus of the services you are watching:\n\tIBM/ibm.helloworld \tWaiting: service is created\nTimeout waiting for some services to successfully start. Analyzing possible reasons for the timeout...\n\nCurrently, there are no errors recorded in the node's event log.\nUsing the 'hzn deploycheck all -p' command to verify that node, service configuration and pattern is compatible.\nNeither node id nor node policy is specified. Getting node policy from the local node.\nNeither node id nor node user input file is specified. Getting node user input from the local node.\n{\n  \"compatible\": true,\n  \"reason\": {\n    \"IBM/ibm.helloworld_1.0.0_arm\": \"Compatible\"\n  }\n}\n\nAnalysis complete.\n\n```\n\n  </AccordionItem>\n</Accordion>\n\nWenn Sie sich die IBM Edge Application Manager-Benutzeroberfläche ansehen, sehen Sie, dass Ihr Gerät auf der Registerkarte \"Nodes\" angezeigt wird. Schließlich sollte es sich im Status Active with services befinden. Die von uns gewählte Agenteninstallation stellt auch einen Beispieldienst bereit.\n![IEAM-nodes-chart](../images/IEAM-nodes-chart.png)\n\nSie können zwischen der Diagramm- und der Listenansicht wechseln\n![IEAM-nodes-list](../images/IEAM-nodes-list.png)\n\nWählen Sie Ihr Gerät aus, um detaillierte Informationen über Ihren Knoten zu erhalten\n![IEAM-node-details](../images/IEAM-node-details.png)\n\nUm die Ausgabe des helloworld-Beispiel-Edge-Dienstes anzuzeigen, der als Teil der Agent-Installation installiert wird, führen Sie aus\n\n```bash\nhzn service log -f ibm.helloworld\n# Press Ctrl-c to stop the output display\n```\n\n<Accordion>\n  <AccordionItem title=\"service output\">\n\n```bash\n$ hzn service log -f ibm.helloworld\nDisplaying log messages for service ibm.helloworld with service id 593a50ceadeae6c83f74b63d2591cb87af962472a8c3e4cd18d007d14d78c00e.\nUse ctrl-C to terminate this command.\nApr 27 12:20:40 make-pi workload-593a50ceadeae6c83f74b63d2591cb87af962472a8c3e4cd18d007d14d78c00e_ibm.helloworld[1407]: my-pi says: Hello World!!\nApr 27 12:20:43 make-pi workload-593a50ceadeae6c83f74b63d2591cb87af962472a8c3e4cd18d007d14d78c00e_ibm.helloworld[1407]: my-pi says: Hello World!!\nApr 27 12:20:46 make-pi workload-593a50ceadeae6c83f74b63d2591cb87af962472a8c3e4cd18d007d14d78c00e_ibm.helloworld[1407]: my-pi says: Hello World!!\nApr 27 12:20:49 make-pi workload-593a50ceadeae6c83f74b63d2591cb87af962472a8c3e4cd18d007d14d78c00e_ibm.helloworld[1407]: my-pi says: Hello World!!\nApr 27 12:20:52 make-pi workload-593a50ceadeae6c83f74b63d2591cb87af962472a8c3e4cd18d007d14d78c00e_ibm.helloworld[1407]: my-pi says: Hello World!!\nApr 27 12:20:55 make-pi workload-593a50ceadeae6c83f74b63d2591cb87af962472a8c3e4cd18d007d14d78c00e_ibm.helloworld[1407]: my-pi says: Hello World!!\nApr 27 12:20:58 make-pi workload-593a50ceadeae6c83f74b63d2591cb87af962472a8c3e4cd18d007d14d78c00e_ibm.helloworld[1407]: my-pi says: Hello World!!\n```\n\n  </AccordionItem>\n</Accordion>\n\nWenn der helloworld-Edge-Dienst nicht gestartet wird, führen Sie diesen Befehl aus, um Fehlermeldungen anzuzeigen:\n\n```bash\nhzn eventlog list -f\n# Press Ctrl-c to stop the output display\n```\n\n<Accordion>\n  <AccordionItem title=\"eventlog output\">\n\n```bash\n$ hzn eventlog list -f\n  \"2021-04-27 12:18:30:   Start node configuration/registration for node my-pi.\",\n  \"2021-04-27 12:18:36:   Start service auto configuration for IBM/ibm.helloworld.\",\n  \"2021-04-27 12:18:36:   Complete service auto configuration for IBM/ibm.helloworld.\",\n  \"2021-04-27 12:18:37:   Complete node configuration/registration for node my-pi.\",\n  \"2021-04-27 12:18:37:   Start policy advertising with the Exchange for service IBM/ibm.helloworld.\",\n  \"2021-04-27 12:18:38:   Complete policy advertising with the Exchange for service IBM/ibm.helloworld.\",\n  \"2021-04-27 12:19:42:   Node received Proposal message using agreement 593a50ceadeae6c83f74b63d2591cb87af962472a8c3e4cd18d007d14d78c00e for service IBM/ibm.helloworld from the agbot IBM/agbot.\",\n  \"2021-04-27 12:19:47:   Node received Proposal message using agreement 66ed9bb65e4405db0f3904d0e8443c7b80c9067f56db9220f2715cb53efd03d3 for service IBM/ibm.helloworld from the agbot IBM/agbot.\",\n  \"2021-04-27 12:19:48:   Agreement 593a50ceadeae6c83f74b63d2591cb87af962472a8c3e4cd18d007d14d78c00e already exists, ignoring proposal: ibm.helloworld\",\n  \"2021-04-27 12:19:55:   Agreement reached for service ibm.helloworld. The agreement id is 593a50ceadeae6c83f74b63d2591cb87af962472a8c3e4cd18d007d14d78c00e.\",\n  \"2021-04-27 12:19:56:   Start dependent services for IBM/ibm.helloworld.\",\n  \"2021-04-27 12:19:56:   Start workload service for IBM/ibm.helloworld.\",\n  \"2021-04-27 12:20:22:   Image loaded for IBM/ibm.helloworld.\",\n  \"2021-04-27 12:20:41:   Workload service containers for IBM/ibm.helloworld are up and running.\"\n```\n\n  </AccordionItem>\n</Accordion>\n\n(optional) Verwenden Sie den Befehl hzn auf diesem Randknoten, um Dienste, Muster und Bereitstellungsrichtlinien in Horizon Exchange anzuzeigen. Legen Sie Ihre spezifischen Informationen als Umgebungsvariablen in Ihrer Shell fest und führen Sie die folgenden Befehle aus:\n\n```bash\neval export $(cat agent-install.cfg)\nhzn exchange service list IBM/\nhzn exchange pattern list IBM/\nhzn exchange deployment listpolicy\n```\n\nUntersuchen Sie alle hzn-Befehlsflags und -Unterbefehle:\n\n```bash\nhzn --help\n```\n\nFühren Sie abschließend den folgenden Befehl aus, um die Registrierung des Geräts aufzuheben und den Beispielkantendienst zu entfernen\n\n```bash\nhzn unregister -f\n```\n\n<Accordion>\n  <AccordionItem title=\"unregister output\">\n\n```bash\n$ hzn unregister -f\nUnregistering this node, cancelling all agreements, stopping all workloads, and restarting Horizon...\nWaiting for Horizon node unregister to complete: No Timeout specified ...\nWaiting for agent service to restart and checking the node configuration state...\nHorizon node unregistered. You may now run 'hzn register ...' again, if desired.\n```\n\n  </AccordionItem>\n</Accordion>\n\nIhr Gerät sollte in der IBM Edge Application Manager UI-Knotenansicht im nicht registrierten Zustand angezeigt werden.\n![IEAM-node-unregistered](../images/IEAM-node-unregistered.png)\n\nSie können jetzt mit der Entwicklung Ihres First Edge-Service beginnen\n\n\n","type":"Mdx","contentDigest":"d80b8df6dcf716c5f276fe8ab9b43e5d","owner":"gatsby-plugin-mdx","counter":451},"frontmatter":{"title":"Gerät Verbinden","tabs":["English","Deutsch","Espanol"],"description":"None"},"exports":{},"rawBody":"---\ntitle: Gerät Verbinden\ntabs: ['English', 'Deutsch', 'Espanol']\ndescription: None\n---\n\n<PageDescription>\n\nIn diesem Abschnitt richten Sie Ihre Zielumgebung ein, in der Sie die Beispielanwendung und den Edge-Agenten bereitstellen. Wenn Sie Ihre eigene Umgebung mitbringen möchten, können Sie dies gerne tun.\n\n</PageDescription>\n\n## Installation und Registrierung des Agenten\n\nIn dieser Übung verwenden Sie die automatisierte Installations- und Registrierungsmethode für Agenten. Andere Optionen sind\n\n* Erweiterte manuelle Installation und Registrierung des Agenten\n* Installation und Registrierung von Massenagenten\n* Installation und Registrierung des SDO-Agenten (Secure Device Onboarding)\n\n<InlineNotification kind=\"info\">\n**Hinweis:** Diese Schritte sind für alle Edge-Gerätetypen (Architekturen) gleich.\n</InlineNotification>\n\nWenn Sie Ihr Gerät noch nicht mit den Schritten im Abschnitt [Anforderungen](/edge-lab/requirements/deutsch) vorbereitet haben, tun Sie dies jetzt.\n\nDer IBM Edge Application Manager sollte kein oder Ihr Gerät auflisten, wie unten gezeigt\n![IEAM-nonode](../images/IEAM-nonode.png)\n\n1) Setzen Sie die folgenden Umgebungsvariablen auf Ihrem Gerät.\n```bash\nexport HZN_DEVICE_ID=<yourname>\nexport HZN_EXCHANGE_USER_AUTH=iamapikey:<api-key>\nexport HZN_ORG_ID=<your-exchange-organization>\nexport HZN_FSS_CSSURL=https://<ieam-management-hub-ingress>/edge-css/\nexport HZN_EXCHANGE_URL=https://<ieam-management-hub-ingress>/edge-exchange/v1\n```\n\n<InlineNotification kind=\"info\">\n\n**Hinweis:** Wir haben bereits die Umgebung für die Einrichtung von Edge-Knoten vorbereitet, in der wir den Apikey und die Organisation für Sie erstellt haben.\n\n</InlineNotification>\n\n2) Für die automatische Installation laden Sie das Skript agent-install.sh vom Cloud Sync Service (CSS) auf Ihr Gerät herunter und machen es ausführbar:\n```bash\ncurl -u \"$HZN_ORG_ID/$HZN_EXCHANGE_USER_AUTH\" -k -o agent-install.sh $HZN_FSS_CSSURL/api/v1/objects/IBM/agent_files/agent-install.sh/data\nchmod +x agent-install.sh\n```\n\n3) Führen Sie agent-install.sh aus, um die erforderlichen Dateien von CSS abzurufen, den Horizon-Agent zu installieren und zu konfigurieren und Ihr Edge-Gerät für die Ausführung des helloworld-Beispiel-Edge-Dienstes zu registrieren:\n```bash\nsudo -s -E ./agent-install.sh -i 'css:' -p IBM/pattern-ibm.helloworld -w '*' -T 120\n```\n\n<InlineNotification kind=\"info\">\n\n**Hinweis:** Um alle verfügbaren agent-install.sh-Flag-Beschreibungen zu sehen, führen Sie aus: `./agent-install.sh -h`\n\n</InlineNotification>\n\n<Accordion>\n  <AccordionItem title=\"agent-install output\">\n\nBei einer erfolgreichen Installation sollten Sie die folgende Cli-Ausgabe sehen. Abhängig von Ihrem Gerät und Ihrer Verbindung kann dies einige Zeit dauern.\n\n```bash\n$ curl -u \"$HZN_ORG_ID/$HZN_EXCHANGE_USER_AUTH\" -k -o agent-install.sh $HZN_FSS_CSSURL/api/v1/objects/IBM/agent_files/agent-install.sh/data\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100  113k    0  113k    0     0  76924      0 --:--:--  0:00:01 --:--:-- 76924\n$ chmod +x agent-install.sh\n$ sudo -s -E ./agent-install.sh -i 'css:' -p IBM/pattern-ibm.helloworld -w '*' -T 120\n2021-04-27 12:12:57 AGENT_INSTALL_ZIP:  (from default value)\n2021-04-27 12:12:58 INPUT_FILE_PATH: css: (from command line flag)\n2021-04-27 12:12:58 INPUT_FILE_PATH adjusted to: css:/api/v1/objects/IBM/agent_files\n2021-04-27 12:12:58 AGENT_CFG_FILE:  (from default value)\n2021-04-27 12:12:58 AGENT_VERBOSITY: 3 (from environment variable)\n2021-04-27 12:12:58 HZN_ORG_ID: thinkedge (from environment variable)\n2021-04-27 12:12:58 HZN_MGMT_HUB_CERT_PATH:  (from default value)\n2021-04-27 12:12:58 AGENT_CERT_FILE: agent-install.crt (from default value)\n2021-04-27 12:12:58 HZN_FSS_CSSURL: https://cp-console.edge-lab-2172-think21-6a6ac8c3d7a0ea50590dce8fa3fd273c-0000.us-south.containers.appdomain.cloud/edge-css (from environment variable)\n2021-04-27 12:12:58 HZN_EXCHANGE_USER_AUTH: ****** (from environment variable)\n2021-04-27 12:12:58 HZN_EXCHANGE_NODE_AUTH:  (from default value)\n2021-04-27 12:12:58 Downloading file https://cp-console.edge-lab-2172-think21-6a6ac8c3d7a0ea50590dce8fa3fd273c-0000.us-south.containers.appdomain.cloud/edge-css/api/v1/objects/IBM/agent_files/agent-install.crt/data using --insecure ...\n2021-04-27 12:12:59 Downloading file https://cp-console.edge-lab-2172-think21-6a6ac8c3d7a0ea50590dce8fa3fd273c-0000.us-south.containers.appdomain.cloud/edge-css/api/v1/objects/IBM/agent_files/agent-install.cfg/data ...\n2021-04-27 12:13:00 AGENT_SKIP_REGISTRATION: false (from default value)\n2021-04-27 12:13:00 HZN_EXCHANGE_URL: https://cp-console.edge-lab-2172-think21-6a6ac8c3d7a0ea50590dce8fa3fd273c-0000.us-south.containers.appdomain.cloud/edge-exchange/v1 (from configuration file)\n2021-04-27 12:13:00 NODE_ID:  (from default value)\n2021-04-27 12:13:00 HZN_DEVICE_ID: my-pi (from environment variable)\n2021-04-27 12:13:00 HZN_NODE_ID:  (from default value)\n2021-04-27 12:13:00 HZN_EXCHANGE_PATTERN: IBM/pattern-ibm.helloworld (from command line flag)\n2021-04-27 12:13:00 HZN_NODE_POLICY:  (from default value)\n2021-04-27 12:13:00 AGENT_WAIT_FOR_SERVICE: * (from command line flag)\n2021-04-27 12:13:00 AGENT_WAIT_FOR_SERVICE_ORG:  (from default value)\n2021-04-27 12:13:00 AGENT_REGISTRATION_TIMEOUT: 120 (from command line flag)\n2021-04-27 12:13:00 AGENT_OVERWRITE: false (from default value)\n2021-04-27 12:13:00 AGENT_SKIP_PROMPT: false (from default value)\n2021-04-27 12:13:00 AGENT_INSTALL_ZIP: agent-install-files.tar.gz (from default value)\n2021-04-27 12:13:00 AGENT_DEPLOY_TYPE: device (from default value)\n2021-04-27 12:13:00 AGENT_WAIT_MAX_SECONDS: 30 (from default value)\n2021-04-27 12:13:01 NODE_ID_MAPPING_FILE: node-id-mapping.csv (from default value)\n2021-04-27 12:13:01 PKG_APT_KEY:  (from default value)\n2021-04-27 12:13:01 APT_REPO_BRANCH: updates (from default value)\n2021-04-27 12:13:01 AGENT_IMAGE_TAR_FILE: amd64_anax.tar.gz (from default value)\n2021-04-27 12:13:05 OS: linux, Distro: raspbian, Distro Release: 10, Distro Code Name: buster, Architecture: armhf\n2021-04-27 12:13:05 WARNING: Using node id from HZN_DEVICE_ID\n2021-04-27 12:13:05 Node type: device\n2021-04-27 12:13:05 Updating apt package index...\n2021-04-27 12:14:15 Installing prerequisites, this could take a minute...\n2021-04-27 12:16:17 Verifying that node my-pi in the exchange is type device (if it exists)...\n2021-04-27 12:16:18 Creating /etc/default/horizon ...\n2021-04-27 12:16:19 Downloading file https://cp-console.edge-lab-2172-think21-6a6ac8c3d7a0ea50590dce8fa3fd273c-0000.us-south.containers.appdomain.cloud/edge-css/api/v1/objects/IBM/agent_files/horizon-agent-linux-deb-armhf.tar.gz/data ...\n2021-04-27 12:16:42 Installing the horizon packages in /root/. ...\n2021-04-27 12:18:22 Waiting for state: Horizon agent ready \n2021-04-27 12:18:24 Done: Horizon agent ready\n2021-04-27 12:18:25 Registering the edge node...\nhzn register -m 'make-pi' -o 'thinkedge' -u 'iamapikey:I1qBL7mXekVo-jxJf_3M3th6xEWaPuuYvegbxBZthSoL' -n 'my-pi:' -s '*'  -t '120' -p 'IBM/pattern-ibm.helloworld'\nHorizon Exchange base URL: https://cp-console.edge-lab-2172-think21-6a6ac8c3d7a0ea50590dce8fa3fd273c-0000.us-south.containers.appdomain.cloud/edge-exchange/v1\nGenerated random node token\nNode thinkedge/my-pi does not exist in the Exchange with the specified token, creating/updating it...\nnode added or updated\nNode my-pi created.\nWill proceeed with the given pattern IBM/pattern-ibm.helloworld.\nInitializing the Horizon node with node type 'device'...\nNote: no input file was specified. This is only valid if none of the services need variables set.\nHowever, if there is 'userInput' specified in the node already in the Exchange, the userInput will be used.\nChanging Horizon state to configured to register this node with Horizon...\nHorizon node is registered. Workload services should begin executing shortly.\nWaiting for up to 120 seconds for following services to start:\n\tIBM/ibm.helloworld\nStatus of the services you are watching:\n\tIBM/ibm.helloworld \tWaiting: no agreements formed yet\nStatus of the services you are watching:\n\tIBM/ibm.helloworld \tWaiting: agreement is formed\nStatus of the services you are watching:\n\tIBM/ibm.helloworld \tWaiting: agreement is accepted\nStatus of the services you are watching:\n\tIBM/ibm.helloworld \tWaiting: service is created\nStatus of the services you are watching:\n\tIBM/ibm.helloworld \tWaiting: service is created\nStatus of the services you are watching:\n\tIBM/ibm.helloworld \tWaiting: service is created\nTimeout waiting for some services to successfully start. Analyzing possible reasons for the timeout...\n\nCurrently, there are no errors recorded in the node's event log.\nUsing the 'hzn deploycheck all -p' command to verify that node, service configuration and pattern is compatible.\nNeither node id nor node policy is specified. Getting node policy from the local node.\nNeither node id nor node user input file is specified. Getting node user input from the local node.\n{\n  \"compatible\": true,\n  \"reason\": {\n    \"IBM/ibm.helloworld_1.0.0_arm\": \"Compatible\"\n  }\n}\n\nAnalysis complete.\n\n```\n\n  </AccordionItem>\n</Accordion>\n\nWenn Sie sich die IBM Edge Application Manager-Benutzeroberfläche ansehen, sehen Sie, dass Ihr Gerät auf der Registerkarte \"Nodes\" angezeigt wird. Schließlich sollte es sich im Status Active with services befinden. Die von uns gewählte Agenteninstallation stellt auch einen Beispieldienst bereit.\n![IEAM-nodes-chart](../images/IEAM-nodes-chart.png)\n\nSie können zwischen der Diagramm- und der Listenansicht wechseln\n![IEAM-nodes-list](../images/IEAM-nodes-list.png)\n\nWählen Sie Ihr Gerät aus, um detaillierte Informationen über Ihren Knoten zu erhalten\n![IEAM-node-details](../images/IEAM-node-details.png)\n\nUm die Ausgabe des helloworld-Beispiel-Edge-Dienstes anzuzeigen, der als Teil der Agent-Installation installiert wird, führen Sie aus\n\n```bash\nhzn service log -f ibm.helloworld\n# Press Ctrl-c to stop the output display\n```\n\n<Accordion>\n  <AccordionItem title=\"service output\">\n\n```bash\n$ hzn service log -f ibm.helloworld\nDisplaying log messages for service ibm.helloworld with service id 593a50ceadeae6c83f74b63d2591cb87af962472a8c3e4cd18d007d14d78c00e.\nUse ctrl-C to terminate this command.\nApr 27 12:20:40 make-pi workload-593a50ceadeae6c83f74b63d2591cb87af962472a8c3e4cd18d007d14d78c00e_ibm.helloworld[1407]: my-pi says: Hello World!!\nApr 27 12:20:43 make-pi workload-593a50ceadeae6c83f74b63d2591cb87af962472a8c3e4cd18d007d14d78c00e_ibm.helloworld[1407]: my-pi says: Hello World!!\nApr 27 12:20:46 make-pi workload-593a50ceadeae6c83f74b63d2591cb87af962472a8c3e4cd18d007d14d78c00e_ibm.helloworld[1407]: my-pi says: Hello World!!\nApr 27 12:20:49 make-pi workload-593a50ceadeae6c83f74b63d2591cb87af962472a8c3e4cd18d007d14d78c00e_ibm.helloworld[1407]: my-pi says: Hello World!!\nApr 27 12:20:52 make-pi workload-593a50ceadeae6c83f74b63d2591cb87af962472a8c3e4cd18d007d14d78c00e_ibm.helloworld[1407]: my-pi says: Hello World!!\nApr 27 12:20:55 make-pi workload-593a50ceadeae6c83f74b63d2591cb87af962472a8c3e4cd18d007d14d78c00e_ibm.helloworld[1407]: my-pi says: Hello World!!\nApr 27 12:20:58 make-pi workload-593a50ceadeae6c83f74b63d2591cb87af962472a8c3e4cd18d007d14d78c00e_ibm.helloworld[1407]: my-pi says: Hello World!!\n```\n\n  </AccordionItem>\n</Accordion>\n\nWenn der helloworld-Edge-Dienst nicht gestartet wird, führen Sie diesen Befehl aus, um Fehlermeldungen anzuzeigen:\n\n```bash\nhzn eventlog list -f\n# Press Ctrl-c to stop the output display\n```\n\n<Accordion>\n  <AccordionItem title=\"eventlog output\">\n\n```bash\n$ hzn eventlog list -f\n  \"2021-04-27 12:18:30:   Start node configuration/registration for node my-pi.\",\n  \"2021-04-27 12:18:36:   Start service auto configuration for IBM/ibm.helloworld.\",\n  \"2021-04-27 12:18:36:   Complete service auto configuration for IBM/ibm.helloworld.\",\n  \"2021-04-27 12:18:37:   Complete node configuration/registration for node my-pi.\",\n  \"2021-04-27 12:18:37:   Start policy advertising with the Exchange for service IBM/ibm.helloworld.\",\n  \"2021-04-27 12:18:38:   Complete policy advertising with the Exchange for service IBM/ibm.helloworld.\",\n  \"2021-04-27 12:19:42:   Node received Proposal message using agreement 593a50ceadeae6c83f74b63d2591cb87af962472a8c3e4cd18d007d14d78c00e for service IBM/ibm.helloworld from the agbot IBM/agbot.\",\n  \"2021-04-27 12:19:47:   Node received Proposal message using agreement 66ed9bb65e4405db0f3904d0e8443c7b80c9067f56db9220f2715cb53efd03d3 for service IBM/ibm.helloworld from the agbot IBM/agbot.\",\n  \"2021-04-27 12:19:48:   Agreement 593a50ceadeae6c83f74b63d2591cb87af962472a8c3e4cd18d007d14d78c00e already exists, ignoring proposal: ibm.helloworld\",\n  \"2021-04-27 12:19:55:   Agreement reached for service ibm.helloworld. The agreement id is 593a50ceadeae6c83f74b63d2591cb87af962472a8c3e4cd18d007d14d78c00e.\",\n  \"2021-04-27 12:19:56:   Start dependent services for IBM/ibm.helloworld.\",\n  \"2021-04-27 12:19:56:   Start workload service for IBM/ibm.helloworld.\",\n  \"2021-04-27 12:20:22:   Image loaded for IBM/ibm.helloworld.\",\n  \"2021-04-27 12:20:41:   Workload service containers for IBM/ibm.helloworld are up and running.\"\n```\n\n  </AccordionItem>\n</Accordion>\n\n(optional) Verwenden Sie den Befehl hzn auf diesem Randknoten, um Dienste, Muster und Bereitstellungsrichtlinien in Horizon Exchange anzuzeigen. Legen Sie Ihre spezifischen Informationen als Umgebungsvariablen in Ihrer Shell fest und führen Sie die folgenden Befehle aus:\n\n```bash\neval export $(cat agent-install.cfg)\nhzn exchange service list IBM/\nhzn exchange pattern list IBM/\nhzn exchange deployment listpolicy\n```\n\nUntersuchen Sie alle hzn-Befehlsflags und -Unterbefehle:\n\n```bash\nhzn --help\n```\n\nFühren Sie abschließend den folgenden Befehl aus, um die Registrierung des Geräts aufzuheben und den Beispielkantendienst zu entfernen\n\n```bash\nhzn unregister -f\n```\n\n<Accordion>\n  <AccordionItem title=\"unregister output\">\n\n```bash\n$ hzn unregister -f\nUnregistering this node, cancelling all agreements, stopping all workloads, and restarting Horizon...\nWaiting for Horizon node unregister to complete: No Timeout specified ...\nWaiting for agent service to restart and checking the node configuration state...\nHorizon node unregistered. You may now run 'hzn register ...' again, if desired.\n```\n\n  </AccordionItem>\n</Accordion>\n\nIhr Gerät sollte in der IBM Edge Application Manager UI-Knotenansicht im nicht registrierten Zustand angezeigt werden.\n![IEAM-node-unregistered](../images/IEAM-node-unregistered.png)\n\nSie können jetzt mit der Entwicklung Ihres First Edge-Service beginnen\n\n\n","fileAbsolutePath":"/Users/mkeppel/Documents/GitHub/think-labs/src/pages/edge-lab/edge-lab/connect/deutsch.mdx"}}},"staticQueryHashes":["1054721580","1054721580","1364590287","2102389209","2102389209","2456312558","2746626797","2746626797","3018647132","3018647132","3037994772","3037994772","768070550"]}