{"componentChunkName":"component---src-pages-edge-lab-mms-english-mdx","path":"/edge-lab/mms/english/","result":{"pageContext":{"frontmatter":{"title":"Model Management System","description":"Model Management System","tabs":["English","Deutsch","Espanol"],"keywords":"mms,edge,lab","date":"19 April 2021"},"relativePagePath":"/edge-lab/mms/english.mdx","titleType":"append","MdxNode":{"id":"7a2f20e7-be76-51be-90e7-2b720fec0b12","children":[],"parent":"76bd888a-2162-59db-8c9e-849d515ea904","internal":{"content":"---\ntitle: Model Management System\ndescription: Model Management System\ntabs: ['English', 'Deutsch', 'Espanol']\nkeywords: 'mms,edge,lab'\ndate: 19 April 2021\n---\n\n<PageDescription>\n\nIn this section you will use the Model Management System (MMS) of IEAM to (re-)configure a deployed edge service.\n\n</PageDescription>\n\n## Using the Hello MMS Example Edge Service with Deployment Pattern\n\n1.\tRegister your edge node with Horizon to use the hello-mms pattern:\n```\nexport SERVICE_NAME=ibm.hello-mms\nhzn register -p IBM/pattern-$SERVICE_NAME-$(hzn architecture) -s $SERVICE_NAME --serviceorg IBM\n```\n\n2.\tAfter the service has started, list the docker containers to see it:\n```\nsudo docker ps\n```\n\n3.\t**Open another terminal** and view the hello-mms service output with the \"follow\" flag. This sample service repeatedly checks for an updated config file (config.json) that contains a parameter of who it should say \"hello\" to. The initial config file is built into the docker image. Updated config files can come via MMS. Initially you should see the message like: **says: Hello from the dockerfile!**.\n```\nexport SERVICE_NAME=ibm.hello-mms\nhzn service log -f $SERVICE_NAME\n```\n\n4.\tWhile observing the service output in the other terminal, get the sample files that will be needed to create and publish a new config file in MMS:\n```\nwget -q --show-progress https://github.com/open-horizon/examples/raw/master/edge/services/helloMMS/object.json\nwget -q --show-progress https://github.com/open-horizon/examples/raw/master/edge/services/helloMMS/config.json\n```\n\n5.\tModify config.json and publish it (along with its metadata object.json) as a new mms object:\n```\njq '.HW_WHO = \"from your Think Labs MMS\"' config.json > config.tmp && mv config.tmp config.json\n# The HZN_DEVICE_ID env var is referenced in object.json\nhzn mms object publish -m object.json -f config.json\n```\n\n6.\tView the published mms object:\n```\nhzn mms object list -t $HZN_DEVICE_ID.hello-mms -i config.json -d\n```\nOnce the Object status changes to delivered you will see the output of the hello-mms service (in the other terminal) change from **&lt;your-node-id&gt; says: Hello from the dockerfile! to &lt;your-node-id&gt; says: Hello from the MMS!**\n\n7.\tDelete the published mms object:\n```\nhzn mms object delete -t $HZN_DEVICE_ID.hello-mms --id config.json\n```\n<InlineNotification kind=\"info\">\n\n**Note:** in the service output in the other terminal that this will cause the service to revert to the original config file, and therefore the original \"hello\" message.\n\n</InlineNotification>\n\n8.\tUnregister your edge node (which will also stop the hello-mms service):\n```\nhzn unregister -f\n```\n\n\n\n","type":"Mdx","contentDigest":"dd52dc98c30ca7617d95d84f5d2e13fd","owner":"gatsby-plugin-mdx","counter":413},"frontmatter":{"title":"Model Management System","description":"Model Management System","tabs":["English","Deutsch","Espanol"],"keywords":"mms,edge,lab","date":"19 April 2021"},"exports":{},"rawBody":"---\ntitle: Model Management System\ndescription: Model Management System\ntabs: ['English', 'Deutsch', 'Espanol']\nkeywords: 'mms,edge,lab'\ndate: 19 April 2021\n---\n\n<PageDescription>\n\nIn this section you will use the Model Management System (MMS) of IEAM to (re-)configure a deployed edge service.\n\n</PageDescription>\n\n## Using the Hello MMS Example Edge Service with Deployment Pattern\n\n1.\tRegister your edge node with Horizon to use the hello-mms pattern:\n```\nexport SERVICE_NAME=ibm.hello-mms\nhzn register -p IBM/pattern-$SERVICE_NAME-$(hzn architecture) -s $SERVICE_NAME --serviceorg IBM\n```\n\n2.\tAfter the service has started, list the docker containers to see it:\n```\nsudo docker ps\n```\n\n3.\t**Open another terminal** and view the hello-mms service output with the \"follow\" flag. This sample service repeatedly checks for an updated config file (config.json) that contains a parameter of who it should say \"hello\" to. The initial config file is built into the docker image. Updated config files can come via MMS. Initially you should see the message like: **says: Hello from the dockerfile!**.\n```\nexport SERVICE_NAME=ibm.hello-mms\nhzn service log -f $SERVICE_NAME\n```\n\n4.\tWhile observing the service output in the other terminal, get the sample files that will be needed to create and publish a new config file in MMS:\n```\nwget -q --show-progress https://github.com/open-horizon/examples/raw/master/edge/services/helloMMS/object.json\nwget -q --show-progress https://github.com/open-horizon/examples/raw/master/edge/services/helloMMS/config.json\n```\n\n5.\tModify config.json and publish it (along with its metadata object.json) as a new mms object:\n```\njq '.HW_WHO = \"from your Think Labs MMS\"' config.json > config.tmp && mv config.tmp config.json\n# The HZN_DEVICE_ID env var is referenced in object.json\nhzn mms object publish -m object.json -f config.json\n```\n\n6.\tView the published mms object:\n```\nhzn mms object list -t $HZN_DEVICE_ID.hello-mms -i config.json -d\n```\nOnce the Object status changes to delivered you will see the output of the hello-mms service (in the other terminal) change from **&lt;your-node-id&gt; says: Hello from the dockerfile! to &lt;your-node-id&gt; says: Hello from the MMS!**\n\n7.\tDelete the published mms object:\n```\nhzn mms object delete -t $HZN_DEVICE_ID.hello-mms --id config.json\n```\n<InlineNotification kind=\"info\">\n\n**Note:** in the service output in the other terminal that this will cause the service to revert to the original config file, and therefore the original \"hello\" message.\n\n</InlineNotification>\n\n8.\tUnregister your edge node (which will also stop the hello-mms service):\n```\nhzn unregister -f\n```\n\n\n\n","fileAbsolutePath":"/Users/mkeppel/Documents/GitHub/think-labs/src/pages/edge-lab/mms/english.mdx"}}},"staticQueryHashes":["1054721580","1054721580","1364590287","2102389209","2102389209","2456312558","2746626797","2746626797","3018647132","3018647132","3037994772","3037994772","768070550"]}