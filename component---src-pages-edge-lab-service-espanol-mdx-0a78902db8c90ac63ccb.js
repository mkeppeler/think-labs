(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{UBP0:function(e,a,r){"use strict";r.r(a),r.d(a,"_frontmatter",(function(){return l})),r.d(a,"default",(function(){return O}));var o=r("vxd2"),t=r("+ZQ4"),n=(r("tbR7"),r("8ZXK")),c=r("ZUrL"),l=(r("GP0y"),{}),i=function(e){return function(a){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),Object(n.b)("div",a)}},b=i("PageDescription"),s=i("Tabs"),p=i("Tab"),d=i("InlineNotification"),u={_frontmatter:l},j=c.a;function O(e){var a=e.components,r=Object(t.a)(e,["components"]);return Object(n.b)(j,Object(o.a)({},u,r,{components:a,mdxType:"MDXLayout"}),Object(n.b)(b,{mdxType:"PageDescription"},Object(n.b)("p",null,"En esta sección creará/desarrollará un servicio de ejemplo, que publicará en IBM Edge Application Manager y desplegará en un paso posterior.")),Object(n.b)("h2",null,"Creación de su propio servicio Edge Hello World"),Object(n.b)("p",null,"Siga los pasos de esta página para crear su primer servicio Horizon Edge sencillo. Condiciones previas para desarrollar su propio servicio"),Object(n.b)("ol",null,Object(n.b)("li",{parentName:"ol"},"Si aún no lo ha hecho, complete los pasos de estas secciones:")),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Condiciones previas para utilizar el servicio Edge de ejemplo Hola Mundo"),Object(n.b)("li",{parentName:"ul"},"Uso del servicio Edge de ejemplo Hola Mundo con el patrón de implementación")),Object(n.b)("ol",{start:2},Object(n.b)("li",{parentName:"ol"},"Si utiliza macOS como host de desarrollo, configure Docker para almacenar las credenciales en ~/.docker:")),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Abra el diálogo de Preferencias de Docker"),Object(n.b)("li",{parentName:"ul"},"Desmarca la opción Almacenar de forma segura los inicios de sesión de Docker en el llavero de macOS")),Object(n.b)("ol",{start:3},Object(n.b)("li",{parentName:"ol"},"Si aún no tienes un ID de Docker, obtén uno en ",Object(n.b)("a",Object(o.a)({parentName:"li"},{href:"https://hub.docker.com/"}),"hub.docker.com")," . Inicie sesión en Docker Hub utilizando su ID de Docker Hub:")),Object(n.b)("pre",null,Object(n.b)("code",Object(o.a)({parentName:"pre"},{}),'export DOCKER_HUB_ID="<dockerhubid>"\necho "<dockerhubpassword>" | docker login -u $DOCKER_HUB_ID --password-stdin\n')),Object(n.b)("p",null,"Ejemplo de salida:"),Object(n.b)("pre",null,Object(n.b)("code",Object(o.a)({parentName:"pre"},{}),"WARNING! Your password will be stored unencrypted in /home/pi/.docker/config.json.\nConfigure a credential helper to remove this warning. See\nhttps://docs.docker.com/engine/reference/commandline/login/#credentials-store\n\nLogin Succeeded\n")),Object(n.b)("ol",{start:4},Object(n.b)("li",{parentName:"ol"},"Cree un par de claves criptográficas de firma. Esto le permite firmar los servicios al publicarlos en el intercambio. Este paso sólo debe realizarse una vez.")),Object(n.b)("pre",null,Object(n.b)("code",Object(o.a)({parentName:"pre"},{}),'hzn key create "<x509-org>" "<x509-cn>"\n')),Object(n.b)("p",null,"donde ","<","x509-org",">"," es el nombre de su empresa, y ","<","x509-cn",">"," suele ser su dirección de correo electrónico."),Object(n.b)("ol",{start:5},Object(n.b)("li",{parentName:"ol"},"Instala git y jq:")),Object(n.b)(s,{mdxType:"Tabs"},Object(n.b)(p,{label:"RHEL",mdxType:"Tab"},Object(n.b)("pre",null,Object(n.b)("code",Object(o.a)({parentName:"pre"},{}),"sudo yum install -y git jq\n"))),Object(n.b)(p,{label:"Raspian/Ubuntu",mdxType:"Tab"},Object(n.b)("pre",null,Object(n.b)("code",Object(o.a)({parentName:"pre"},{}),"sudo apt install -y git jq\n"))),Object(n.b)(p,{label:"macOS",mdxType:"Tab"},Object(n.b)("pre",null,Object(n.b)("code",Object(o.a)({parentName:"pre"},{}),"brew install git jq\n")))),Object(n.b)("h2",null,"Construir y publicar el servicio de borde"),Object(n.b)("ol",null,Object(n.b)("li",{parentName:"ol"},"Vaya al directorio en el que desea crear su nuevo servicio y, a continuación, ejecute este comando para crear los archivos de un servicio Edge simple y los archivos de metadatos Horizon asociados:")),Object(n.b)("pre",null,Object(n.b)("code",Object(o.a)({parentName:"pre"},{}),'export USER_ID=<your-userID>\nhzn dev service new -s hello-$USER_ID -i "$DOCKER_HUB_ID/hello-$USER_ID"\n')),Object(n.b)(d,{kind:"info",mdxType:"InlineNotification"},Object(n.b)("p",null,Object(n.b)("strong",{parentName:"p"},"Tenga")," en cuenta que algunas variables del proyecto están definidas en horizon/hzn.json y referenciadas en otros archivos, por ejemplo horizon/service.definition.json.")),Object(n.b)("ol",{start:2},Object(n.b)("li",{parentName:"ol"},"editar service.sh y cambiar algo sencillo, por ejemplo, cambiar “Hello” por “Hola”.")),Object(n.b)(d,{kind:"info",mdxType:"InlineNotification"},Object(n.b)("p",null,Object(n.b)("strong",{parentName:"p"},"Nota:")," Este servicio es un script de shell para simplificar, pero puedes escribir tu servicio en cualquier lenguaje.")),Object(n.b)("ol",{start:3},Object(n.b)("li",{parentName:"ol"},"Crear la imagen Docker del servicio:")),Object(n.b)("pre",null,Object(n.b)("code",Object(o.a)({parentName:"pre"},{}),"make\n")),Object(n.b)("ol",{start:4},Object(n.b)("li",{parentName:"ol"},"Probar el servicio ejecutándolo en el entorno del agente simulado:")),Object(n.b)("pre",null,Object(n.b)("code",Object(o.a)({parentName:"pre"},{}),"sudo hzn dev service start -S\n")),Object(n.b)("ol",{start:5},Object(n.b)("li",{parentName:"ol"},"Verificar que el contenedor está en funcionamiento:")),Object(n.b)("pre",null,Object(n.b)("code",Object(o.a)({parentName:"pre"},{}),"sudo docker ps\n")),Object(n.b)("ol",{start:6},Object(n.b)("li",{parentName:"ol"},"Visualice las variables de entorno que Horizon pasa a su contenedor de servicios:")),Object(n.b)("pre",null,Object(n.b)("code",Object(o.a)({parentName:"pre"},{}),"sudo docker inspect $(sudo docker ps -q --filter name=hello-$USER_ID) | jq '.[0].Config.Env'\n")),Object(n.b)("ol",{start:7},Object(n.b)("li",{parentName:"ol"},"Visualiza la salida de tu servicio helloworld:")),Object(n.b)(s,{mdxType:"Tabs"},Object(n.b)(p,{label:"RHEL",mdxType:"Tab"},Object(n.b)("pre",null,Object(n.b)("code",Object(o.a)({parentName:"pre"},{}),"sudo tail -f /var/log/messages | grep hello-$USER_ID\n"))),Object(n.b)(p,{label:"Raspian/Ubuntu",mdxType:"Tab"},Object(n.b)("pre",null,Object(n.b)("code",Object(o.a)({parentName:"pre"},{}),"sudo tail -f /var/log/syslog | grep hello-$USER_ID\n"))),Object(n.b)(p,{label:"macOS",mdxType:"Tab"},Object(n.b)("pre",null,Object(n.b)("code",Object(o.a)({parentName:"pre"},{}),"sudo docker logs -f $(sudo docker ps -q --filter name=hello-$USER_ID\n")))),Object(n.b)("ol",{start:8},Object(n.b)("li",{parentName:"ol"},"Detener el servicio:")),Object(n.b)("pre",null,Object(n.b)("code",Object(o.a)({parentName:"pre"},{}),"sudo hzn dev service stop\n")),Object(n.b)("ol",{start:9},Object(n.b)("li",{parentName:"ol"},"Indique a Horizon que empuje su imagen Docker a su registro y publique su servicio en Horizon Exchange:")),Object(n.b)("pre",null,Object(n.b)("code",Object(o.a)({parentName:"pre"},{}),"hzn exchange service publish -f horizon/service.definition.json\nhzn exchange service list\n")),Object(n.b)("p",null,"Si cambia a la interfaz de usuario de IBM Edge Application Manager, debería encontrar su servicio en la pestaña Servicios\n",Object(n.b)("a",Object(o.a)({parentName:"p"},{href:"../images/IEAM-services.png"}),"IEAM-services")),Object(n.b)("p",null,"Haga clic en el servicio para obtener los detalles\n",Object(n.b)("img",Object(o.a)({parentName:"p"},{src:"../images/IEAM-service-details.png",alt:"IEAM-service-details"}))),Object(n.b)("p",null,"Ahora puede proceder y desplegar el servicio en la siguiente parte del laboratorio."))}O.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-edge-lab-service-espanol-mdx-0a78902db8c90ac63ccb.js.map