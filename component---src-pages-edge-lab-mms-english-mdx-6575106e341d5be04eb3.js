(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{"013z":function(e,t,a){"use strict";var n=a("q1tI"),o=a.n(n),r=a("NmYn"),i=a.n(r),l=a("Wbzz"),c=a("Xrax"),s=a("k4MR"),b=a("TSYQ"),m=a.n(b),d=a("QH2O"),p=a.n(d),u=a("qKvR"),h=function(e){var t,a=e.title,n=e.theme,o=e.tabs,r=void 0===o?[]:o;return Object(u.b)("div",{className:m()(p.a.pageHeader,(t={},t[p.a.withTabs]=r.length,t[p.a.darkMode]="dark"===n,t))},Object(u.b)("div",{className:"bx--grid"},Object(u.b)("div",{className:"bx--row"},Object(u.b)("div",{className:"bx--col-lg-12"},Object(u.b)("h1",{id:"page-title",className:p.a.text},a)))))},j=a("BAC9"),g=function(e){var t=e.relativePagePath,a=e.repository,n=Object(l.useStaticQuery)("1364590287").site.siteMetadata.repository,o=a||n,r=o.baseUrl,i=o.subDirectory,c=r+"/edit/"+o.branch+i+"/src/pages"+t;return r?Object(u.b)("div",{className:"bx--row "+j.row},Object(u.b)("div",{className:"bx--col"},Object(u.b)("a",{className:j.link,href:c},"Edit this page on GitHub"))):null},O=a("FCXl"),f=a("dI71"),x=a("I8xM"),v=function(e){function t(){return e.apply(this,arguments)||this}return Object(f.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.title,a=e.tabs,n=e.slug,o=n.split("/").filter(Boolean).slice(-1)[0],r=a.map((function(e){var t,a=i()(e,{lower:!0,strict:!0}),r=a===o,c=new RegExp(o+"/?(#.*)?$"),s=n.replace(c,a);return Object(u.b)("li",{key:e,className:m()((t={},t[x.selectedItem]=r,t),x.listItem)},Object(u.b)(l.Link,{className:x.link,to:""+s},e))}));return Object(u.b)("div",{className:x.tabsContainer},Object(u.b)("div",{className:"bx--grid"},Object(u.b)("div",{className:"bx--row"},Object(u.b)("div",{className:"bx--col-lg-12 bx--col-no-gutter"},Object(u.b)("nav",{"aria-label":t},Object(u.b)("ul",{className:x.list},r))))))},t}(o.a.Component),N=a("MjG9"),w=a("CzIb");t.a=function(e){var t=e.pageContext,a=e.children,n=e.location,o=e.Title,r=t.frontmatter,b=void 0===r?{}:r,m=t.relativePagePath,d=t.titleType,p=b.tabs,j=b.title,f=b.theme,x=b.description,E=b.keywords,M=Object(w.a)().interiorTheme,T=Object(l.useStaticQuery)("2456312558").site.pathPrefix,y=T?n.pathname.replace(T,""):n.pathname,I=p?y.split("/").filter(Boolean).slice(-1)[0]||i()(p[0],{lower:!0}):"",k=f||M;return Object(u.b)(s.a,{tabs:p,homepage:!1,theme:k,pageTitle:j,pageDescription:x,pageKeywords:E,titleType:d},Object(u.b)(h,{title:o?Object(u.b)(o,null):j,label:"label",tabs:p,theme:k}),p&&Object(u.b)(v,{title:j,slug:y,tabs:p,currentTab:I}),Object(u.b)(N.a,{padded:!0},a,Object(u.b)(g,{relativePagePath:m})),Object(u.b)(O.a,{pageContext:t,location:n,slug:y,tabs:p,currentTab:I}),Object(u.b)(c.a,null))}},"1xz5":function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return l})),a.d(t,"default",(function(){return p}));var n=a("wx14"),o=a("zLVn"),r=(a("q1tI"),a("7ljp")),i=a("013z"),l=(a("qKvR"),{}),c=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),Object(r.b)("div",t)}},s=c("PageDescription"),b=c("InlineNotification"),m={_frontmatter:l},d=i.a;function p(e){var t=e.components,a=Object(o.a)(e,["components"]);return Object(r.b)(d,Object(n.a)({},m,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)(s,{mdxType:"PageDescription"},Object(r.b)("p",null,"In this section you will use the Model Management System (MMS) of IEAM to (re-)configure a deployed edge service.")),Object(r.b)("h2",null,"Using the Hello MMS Example Edge Service with Deployment Pattern"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"Register your edge node with Horizon to use the hello-mms pattern:")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),"export SERVICE_NAME=ibm.hello-mms\nhzn register -p IBM/pattern-$SERVICE_NAME-$(hzn architecture) -s $SERVICE_NAME --serviceorg IBM\n")),Object(r.b)("ol",{start:2},Object(r.b)("li",{parentName:"ol"},"After the service has started, list the docker containers to see it:")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),"sudo docker ps\n")),Object(r.b)("ol",{start:3},Object(r.b)("li",{parentName:"ol"},Object(r.b)("strong",{parentName:"li"},"Open another terminal")," and view the hello-mms service output with the “follow” flag. This sample service repeatedly checks for an updated config file (config.json) that contains a parameter of who it should say “hello” to. The initial config file is built into the docker image. Updated config files can come via MMS. Initially you should see the message like: ",Object(r.b)("strong",{parentName:"li"},"says: Hello from the dockerfile!"),".")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),"export SERVICE_NAME=ibm.hello-mms\nhzn service log -f $SERVICE_NAME\n")),Object(r.b)("ol",{start:4},Object(r.b)("li",{parentName:"ol"},"While observing the service output in the other terminal, get the sample files that will be needed to create and publish a new config file in MMS:")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),"wget -q --show-progress https://github.com/open-horizon/examples/raw/master/edge/services/helloMMS/object.json\nwget -q --show-progress https://github.com/open-horizon/examples/raw/master/edge/services/helloMMS/config.json\n")),Object(r.b)("ol",{start:5},Object(r.b)("li",{parentName:"ol"},"Modify config.json and publish it (along with its metadata object.json) as a new mms object:")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),'jq \'.HW_WHO = "from the MMS"\' config.json > config.tmp && mv config.tmp config.json\nexport HZN_DEVICE_ID="${HZN_EXCHANGE_NODE_AUTH%%:*}"   # this env var is referenced in object.json\nhzn mms object publish -m object.json -f config.json\n')),Object(r.b)("ol",{start:6},Object(r.b)("li",{parentName:"ol"},"View the published mms object:")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),"hzn mms object list -t $HZN_DEVICE_ID.hello-mms -i config.json -d\n")),Object(r.b)("p",null,"Once the Object status changes to delivered you will see the output of the hello-mms service (in the other terminal) change from ",Object(r.b)("strong",{parentName:"p"},"<","your-node-id",">"," says: Hello from the dockerfile! to ","<","your-node-id",">"," says: Hello from the MMS!")),Object(r.b)("ol",{start:7},Object(r.b)("li",{parentName:"ol"},"Delete the published mms object:")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),"hzn mms object delete -t $HZN_DEVICE_ID.hello-mms --id config.json\n")),Object(r.b)(b,{kind:"info",mdxType:"InlineNotification"},Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Note:")," in the service output in the other terminal that this will cause the service to revert to the original config file, and therefore the original “hello” message.")),Object(r.b)("ol",{start:8},Object(r.b)("li",{parentName:"ol"},"Unregister your edge node (which will also stop the hello-mms service):")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),"hzn unregister -f\n")))}p.isMDXComponent=!0},BAC9:function(e,t,a){e.exports={bxTextTruncateEnd:"EditLink-module--bx--text-truncate--end--2pqje",bxTextTruncateFront:"EditLink-module--bx--text-truncate--front--3_lIE",link:"EditLink-module--link--1qzW3",row:"EditLink-module--row--1B9Gk"}},I8xM:function(e,t,a){e.exports={bxTextTruncateEnd:"PageTabs-module--bx--text-truncate--end--267NA",bxTextTruncateFront:"PageTabs-module--bx--text-truncate--front--3xEQF",tabsContainer:"PageTabs-module--tabs-container--8N4k0",list:"PageTabs-module--list--3eFQc",listItem:"PageTabs-module--list-item--nUmtD",link:"PageTabs-module--link--1mDJ1",selectedItem:"PageTabs-module--selected-item--YPVr3"}},QH2O:function(e,t,a){e.exports={bxTextTruncateEnd:"PageHeader-module--bx--text-truncate--end--mZWeX",bxTextTruncateFront:"PageHeader-module--bx--text-truncate--front--3zvrI",pageHeader:"PageHeader-module--page-header--3hIan",darkMode:"PageHeader-module--dark-mode--hBrwL",withTabs:"PageHeader-module--with-tabs--3nKxA",text:"PageHeader-module--text--o9LFq"}}}]);
//# sourceMappingURL=component---src-pages-edge-lab-mms-english-mdx-6575106e341d5be04eb3.js.map